<!DOCTYPE html>
<html lang="en">
<head>
	<title>JS FE</title> 
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<style>
		*{
			box-sizing: border-box;
			margin: 0;
			padding: 0;
		}

		.slider{
			width: 100%;
			height: 300px;
			position: relative;
		}

		.slide{
			position: absolute;
			left: 0;
			top: 0;
			width: 100%;
			height: 100%;
			text-align: center;
			color: #ffffff;
			font-size: 55px;
			padding-top: 50px;
			background: lightgray;
			opacity: 0;
			transition: opacity 0.5s ease-in-out;
		}

		.slide.active{
			opacity: 1;
		}

		.slide:nth-of-type(2){
			background: hotpink;
		}
		.slide:nth-of-type(3){
			background: lightgreen;
		}
		.slide:nth-of-type(4){
			background: lightblue;
		}
		.slide:nth-of-type(5){
			background: gold;
		}

		.navs{
			list-style: none;
			display: flex;
			justify-content: center;
			align-items: center;
			width: 100%;
			position: absolute;
			bottom: 20px;
			left: 0;
		}

		.slidernav{
			width: 14px;
			height: 14px;
			border-radius: 50%;
			border: 2px solid #fff;
			margin: 0 7px;
			cursor: pointer;
		}

		.slidernav.active{
			background: #ffffff;
		}

		.arr_prev, .arr_next{
			position: absolute;
			left: 10px;
			top: 110px;
			font-size: 30px;
			transform: scaleX(0.6);
			color: #ffffff;
			cursor: pointer;
			z-index: 10;
		}

		.arr_next{
			left: auto;
			right: 10px;
		}

	</style>
</head>
<body>

	<!-- <div class="slider">
		<div class="slide active">Slide 1</div>
		<div class="slide">Slide 2</div>
		<div class="slide">Slide 3</div>
		<div class="slide">Slide 4</div>
		<div class="slide">Slide 5</div>
		
		<ul class="navs">
			<li data-slide="0" class="slidernav active"></li>
			<li data-slide="1" class="slidernav"></li>
			<li data-slide="2" class="slidernav"></li>
			<li data-slide="3" class="slidernav"></li>
			<li data-slide="4" class="slidernav"></li>
		</ul>
		<div class="arr_prev">&lt;</div>
		<div class="arr_next">&gt;</div>
	</div>

	<div class="slider">
		<div class="slide active">Slide 1</div>
		<div class="slide">Slide 2</div>
		<div class="slide">Slide 3</div>
		<div class="slide">Slide 4</div>
		<div class="slide">Slide 5</div>
		
		<ul class="navs">
			<li data-slide="0" class="slidernav active"></li>
			<li data-slide="1" class="slidernav"></li>
			<li data-slide="2" class="slidernav"></li>
			<li data-slide="3" class="slidernav"></li>
			<li data-slide="4" class="slidernav"></li>
		</ul>
		<div class="arr_prev">&lt;</div>
		<div class="arr_next">&gt;</div>
	</div>

	<div class="slider">
		<div class="slide active">Slide 1</div>
		<div class="slide">Slide 2</div>
		<div class="slide">Slide 3</div>
		<div class="slide">Slide 4</div>
		<div class="slide">Slide 5</div>
		
		<ul class="navs">
			<li data-slide="0" class="slidernav active"></li>
			<li data-slide="1" class="slidernav"></li>
			<li data-slide="2" class="slidernav"></li>
			<li data-slide="3" class="slidernav"></li>
			<li data-slide="4" class="slidernav"></li>
		</ul>
		<div class="arr_prev">&lt;</div>
		<div class="arr_next">&gt;</div>
	</div> -->


	


<script>

//  slider
// autoplay +
// arrows change slide +
// dots change slide +


class Slider{
	constructor(slider, time){
		this.parent = slider;
		this.slides = this.parent.querySelectorAll('.slide');
		this.navs = this.parent.querySelectorAll('.slidernav');
		this.prev = this.parent.querySelector('.arr_prev');
		this.next = this.parent.querySelector('.arr_next');
		this.currentSlide = 0;
		this.time = time;
		this.interval;

		for(let nav of this.navs){
			nav.onclick = () => {
				this.currentSlide = +nav.dataset.slide;
				this.resetSlide();
			}
		}

		this.prev.onclick = () => {
			this.currentSlide = this.currentSlide >= 1 ? --this.currentSlide : this.slides.length -1;
			this.resetSlide();
		}

		this.next.onclick = () => {
			this.currentSlide = this.currentSlide < this.slides.length -1 ? ++this.currentSlide : 0;
			this.resetSlide();
		}

		this.init();
	}

	init(){
		this.interval = setInterval(()=>{
			this.currentSlide = this.currentSlide < this.slides.length -1 ? ++this.currentSlide : 0;
			this.changeSlide(this.currentSlide);
		}, this.time);
	}

	changeSlide(n){
		this.slides.forEach(item=> item.classList.remove('active'));
		this.navs.forEach(item=> item.classList.remove('active'));
		this.slides[n].classList.add('active');
		this.navs[n].classList.add('active');
	}
	
	resetSlide(){
		clearInterval(this.interval);
		this.changeSlide(this.currentSlide);
		this.init();
	}
}

// create sliders

const sliders = document.querySelectorAll('.slider');

/// if we use prev version without OOP
//if(sliders.length > 0){
 //// all code which was written for Slider - init, changeSlide, prev/next
///}
/// 
for(let s of sliders){
	new Slider(s, Math.random()*2000 + 2000);
}


</script>
</body>
</html>
