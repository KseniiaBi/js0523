<!DOCTYPE html>
<html lang="en">
<head>
	<title>JS FE</title> 
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">
</head>
<body>


<script>

// OOP patterns [designs patterns]

// Creational: Factory, Singletone, * Structural: Decorator, Fa√ßade, Behavioral: Observer, Mediator, Command


// Singleton - creates only one instance of current class

class GameState{
	static state = null;
	constructor(type){
		if(GameState.state === null){
			this.type = type;
			GameState.state = this;
		}
		else {
			return GameState.state;
		}
	}
}

let menu = new GameState('MainMenu');
let level = new GameState('Level 1');
let tutorial = new GameState('Tutorial');


// Factory

class Cake{
	constructor(name, weight){
		this.name = name;
		this.weight = weight;
	}
}

class Candy{
	constructor(name, pack, flavour){
		this.name = name;
		this.flavour = flavour;
		this.pack = pack;
	}
}

class Cookie{
	constructor(name, filling){
		this.name = name;
		this.filling = filling;
	}
}


class SweetsFactory{
	createSweets(options){ // fabric method
		switch(options.type){
			case 'cake': return new Cake(options.name, options.weight); 
						break;
			case 'candy': return new Candy(options.name, options.pack, options.flavour);
						break;
			case 'cookies': return new Cookie(options.name, options.filling);
							break;
			default: return new Cookie(options.name, options.filling);
					break;
		}
	}
}

const sweetsFactory = new SweetsFactory();
let sweet1 = sweetsFactory.createSweets({name: 'Red Velvet', weight: 1.5, type: 'cake'});
let sweet2 = sweetsFactory.createSweets({name: 'Whoopie', filling: 'strawberry', type: 'cookies'});
let sweet3 = sweetsFactory.createSweets({name: 'Shpaky', pack: 500, type: 'candy'});
let sweet4 = sweetsFactory.createSweets({name: 'Napoleon', filling: 'none'});




</script>
</body>
</html>
